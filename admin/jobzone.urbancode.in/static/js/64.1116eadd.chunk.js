"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[64],{7903:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(5043);const n="TableFooter_tableFooter__NUOL0",i="TableFooter_button__DAxmk",t="TableFooter_activeButton__S+o87",l="TableFooter_inactiveButton__E3KZU";var o=a(579);const d=e=>{let{range:s,setPage:a,page:d,slice:c}=e;return(0,r.useEffect)((()=>{c.length<1&&1!==d&&a(d-1)}),[c,d,a]),(0,o.jsx)("div",{className:n,children:s.map(((e,s)=>(0,o.jsx)("button",{className:`${i} ${d===e?t:l}`,onClick:()=>a(e),children:e},s)))})}},4494:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);const n=(e,s,a)=>{const[n,i]=(0,r.useState)([]),[t,l]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const r=((e,s)=>{const a=[],r=Math.ceil(e.length/s);for(let n=1;n<=r;n++)a.push(n);return a})(e,a);i([...r]);const n=((e,s,a)=>e.slice((s-1)*a,s*a))(e,s,a);l([...n])}),[e,i,s,l,a]),{slice:t,range:n}}},2064:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var r=a(5043),n=a(6213),i=a(3519),t=a(9628),l=(a(2342),a(3892)),o=a(3033);const d="AddUserForm_main__CC8oM",c="AddUserForm_formInputs__wDocX",u="AddUserForm_formInputs__side__CiTBW",h="AddUserForm_age__Iw53Z",m="AddUserForm_formInputs__side__inner__QSud5",x="AddUserForm_gender__Z7k1-";var j=a(3933),g=a(579);const p=e=>{let s={name:"",email:"",password:"",mobile:"",age:"",gender:"",qualification:"",experience:"",role:""};e.userInfo&&(s={id:e.userInfo.id,name:e.userInfo.name,email:e.userInfo.email,password:e.userInfo.password,mobile:e.userInfo.mobile,age:e.userInfo.age,gender:e.userInfo.gender,qualification:e.userInfo.qualification,experience:e.userInfo.experience,role:e.userInfo.role});return(0,g.jsx)(l.l1,{initialValues:s,validationSchema:o.Ik({name:o.Yj().min(4,"Name should be more than 4 characters").max(25,"Name should be less than 25 characters").required("Name is a required field"),email:o.Yj().email("Invalid email address").required("Email is a required field"),password:o.Yj().min(6,"Password must be minimum 6 characters").required("Password is a required field"),mobile:o.Yj().required("Phone number is required").matches(/^[0-9]+$/,"Must be only digits").min(10,"Must be exactly 10 digits").max(10,"Must be exactly 10 digits"),gender:o.Yj().required("Gender Required"),age:o.ai().max(60,"Age should be less than or equal to 60").min(18,"Age should be greater than or equal to 18").required("Age Required"),qualification:o.Yj().required("Qualification Required"),experience:o.Yj(),role:o.Yj().required("Role required")}),onSubmit:(s,a)=>{let{setSubmitting:r}=a;(s=>{e.onAdd(s)})({...e.userInfo,...s})},children:s=>(0,g.jsx)("div",{className:d,children:(0,g.jsxs)(l.lV,{id:"manageUser-form",children:[(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Name",id:"name",name:"name",mandatory:"true"})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Email",id:"email",name:"email",mandatory:"true"})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Password",id:"password",type:"password",name:"password",mandatory:"true",disabled:!!e.userInfo})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Mobile No",id:"mobile",name:"mobile",mandatory:"true"})}),(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("div",{className:`${m} ${h}`,children:(0,g.jsx)(j.Q7,{label:"Age",name:"age",id:"age",mandatory:"true"})}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsxs)("label",{children:["Gender",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(l.D0,{type:"radio",value:"Male",name:"gender",id:"Male"}),(0,g.jsx)("label",{htmlFor:"Male",children:"Male"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(l.D0,{type:"radio",value:"Female",name:"gender",id:"Female"}),(0,g.jsx)("label",{htmlFor:"Female",children:"Female"})]})]}),s.errors.gender&&(0,g.jsx)("div",{className:"error",children:s.errors.gender})]})]}),(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("div",{className:m,children:(0,g.jsxs)(j.pp,{name:"qualification",id:"qualification",label:"Qualification",mandatory:"true",children:[(0,g.jsx)("option",{value:"",children:"Select"}),(0,g.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,g.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,g.jsx)("option",{value:"Diploma",children:"Diploma"}),(0,g.jsx)("option",{value:"High School",children:"High School"})]})}),(0,g.jsx)("div",{className:m,children:(0,g.jsxs)(j.pp,{name:"experience",id:"experience",label:"Experience",children:[(0,g.jsx)("option",{value:"",children:"Select"}),(0,g.jsx)("option",{value:"0-2",children:"0-2"}),(0,g.jsx)("option",{value:"3-7",children:"3-7"}),(0,g.jsx)("option",{value:"7-10",children:"7-10"}),(0,g.jsx)("option",{value:"10-50",children:"10-50"})]})})]}),(0,g.jsx)("div",{className:c,children:(0,g.jsxs)(j.pp,{name:"role",id:"role",label:"Role",mandatory:"true",children:[(0,g.jsx)("option",{value:"User",children:"User"}),(0,g.jsx)("option",{value:"Job Provider",children:"Job Provider"})]})})]})})})};var b=a(1072),_=a(8602),f=a(4282),v=a(4196),A=a(4494),U=a(7903),w=a(5141),N=a(6214);const y={rowStyle:"ManageUsers_rowStyle__0YzQ0",manageUsers:"ManageUsers_manageUsers__oqi3u",col:"ManageUsers_col__QZdpD",input:"ManageUsers_input__WJSCC",span:"ManageUsers_span__9454A",addUser:"ManageUsers_addUser__puxql",button:"ManageUsers_button__i2iTx",tableHeader:"ManageUsers_tableHeader__hbi7c",tableBody:"ManageUsers_tableBody__sH0FJ",tableBox:"ManageUsers_tableBox__Woxw5",search:"ManageUsers_search__EZb-s"};var I=a(6405),S=a(6267);const M=e=>{const s=localStorage.getItem("token");return(0,g.jsxs)("tr",{className:I.A.row,children:[(0,g.jsx)("td",{children:e.userInfo.name}),(0,g.jsx)("td",{children:e.userInfo.email}),(0,g.jsx)("td",{children:e.userInfo.mobile}),(0,g.jsx)("td",{children:e.userInfo.role}),(0,g.jsx)("td",{children:(0,S.A)(e.userInfo.createdAt)}),(0,g.jsxs)("td",{className:I.A.actions,children:[(0,g.jsxs)("button",{className:`${I.A.edit} ${I.A.button}`,onClick:()=>{n.A.get(""+(N.U+"admin/users/"+e.userInfo._id),{headers:{Authorization:"Bearer "+s}}).then((s=>{e.onEdit(s.data.user)})).catch((e=>console.log(e)))},children:[(0,g.jsx)("span",{children:(0,g.jsx)("i",{className:"bi bi-pencil-fill"})}),(0,g.jsx)("span",{children:"Edit"})]}),(0,g.jsxs)("button",{className:`${I.A.delete} ${I.A.button}`,onClick:()=>{e.onDelete(e.userInfo._id)},children:[(0,g.jsx)("span",{children:(0,g.jsx)("i",{className:"bi bi-trash3-fill"})}),(0,g.jsx)("span",{children:"Delete"})]})]})]})};let q=[];const $=e=>{const[s,a]=(0,r.useState)(1),[i,t]=(0,r.useState)(!0),[l,o]=(0,r.useState)([]),d=(0,r.useRef)(),c=localStorage.getItem("token");(0,r.useEffect)((()=>{t(!0),n.A.get(""+(N.U+"admin/users/"),{headers:{Authorization:"Bearer "+c}}).then((e=>{const s=e.data.users;t(!1),q=[...s],o(s)}))}),[e.changes,c]);const{slice:u,range:h}=(0,A.A)(l,s,5),m=s=>{e.onEditUser(s)};return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(b.A,{className:y.rowStyle,children:[(0,g.jsx)(_.A,{className:`${y.manageUsers} col-md-3`,children:(0,g.jsx)("span",{className:y.span,children:"Manage Users"})}),(0,g.jsxs)(_.A,{className:`${y.col} col-md-6  `,children:[(0,g.jsx)(_.A,{className:`${y.search}d-flex justify-content-center align-items-center`,children:(0,g.jsx)("input",{type:"text",id:"search",placeholder:"Search Users",className:y.searchBar,onChange:e=>{const s=d.current.value;o("All"!==s?q.filter((a=>a.name.toLowerCase().includes(e.target.value.toLowerCase())&&a.role===s)):q.filter((s=>s.name.toLowerCase().includes(e.target.value.toLowerCase()))))}})}),(0,g.jsxs)(_.A,{className:y.input,children:[(0,g.jsx)("label",{htmlFor:"type",children:"Role"}),(0,g.jsxs)("select",{name:"type",id:"type",ref:d,onChange:e=>{"All"===e.target.value?o(q):o(q.filter((s=>s.role===e.target.value)))},children:[(0,g.jsx)("option",{value:"All",children:"All"}),(0,g.jsx)("option",{value:"User",children:"User"}),(0,g.jsx)("option",{value:"Job Provider",children:"Job Provider"})]})]})]}),(0,g.jsx)(_.A,{className:`${y.addUser} col-md-3`,children:(0,g.jsx)(f.A,{id:"add-new-user",className:y.button,onClick:()=>{e.onShowAddUser(!0)},children:"Add New User"})})]}),i&&(0,g.jsx)(w.A,{}),l.length>0&&(0,g.jsx)("div",{className:y.tableBox,children:(0,g.jsxs)(v.A,{striped:!0,hover:!0,children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:y.tableHeader,children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Mobile"}),(0,g.jsx)("th",{children:"User Type"}),(0,g.jsx)("th",{children:"Created"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{className:y.tableBody,children:u.map((s=>(0,g.jsx)(M,{userInfo:s,onEdit:m,onDelete:e.onShowDelete},s._id)))})]})}),(0,g.jsx)(U.A,{range:h,slice:u,setPage:a,page:s}),0===l.length&&(0,g.jsx)("h3",{className:"text-center fw-bold",children:"No user Data!"})]})};var F=a(3067);const k=r.lazy((()=>a.e(644).then(a.bind(a,3263))));let C;const D=()=>{const[e,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)({show:!1,inititalValues:{}}),[h,m]=(0,r.useState)(!1),x=localStorage.getItem("token");(0,r.useEffect)((()=>{document.title=N.l.D5}),[]);return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(r.Suspense,{fallback:(0,g.jsx)(w.A,{}),children:[o&&(0,g.jsx)(i.A,{className:F.A.overlaySpinner,children:(0,g.jsx)(w.A,{})}),(0,g.jsx)(k,{show:e,onHide:()=>{s(!1)},formModal:!0,buttonTitle:"Add User",formId:"manageUser-form",children:{title:"Add new User",body:(0,g.jsx)(p,{edit:!0,inititalValue:!0,onAdd:e=>{d(!0),n.A.post(""+(N.U+"admin/add-user"),{...e},{headers:{Authorization:"Bearer "+x}}).then((e=>{d(!1),l(!a),s(!1),t.oR.success(e.data.message)})).catch((e=>{d(!1),t.oR.error("Oops something went wrong")}))}})}}),(0,g.jsx)(k,{show:c.show,onHide:()=>{u((e=>({show:!1,inititalValues:e.inititalValues})))},formModal:!0,buttonTitle:"Edit User",formId:"manageUser-form",children:{title:"Edit User",body:(0,g.jsx)(p,{userInfo:c.inititalValues,onAdd:e=>{const s=e._id,r={name:e.name,email:e.email,password:e.password,mobile:e.mobile,age:e.age,gender:e.gender,qualification:e.qualification,experience:e.experience,role:e.role};d(!0),n.A.put(""+(N.U+"admin/edit-user/"+s),r,{headers:{Authorization:"Bearer "+x}}).then((e=>{u((e=>({show:!1,inititalValues:e.inititalValues}))),d(!1),l(!a),t.oR.success(e.data.message)})).catch((e=>{d(!1),t.oR.error("Oops something went wrong")}))}})}})]}),(0,g.jsx)(k,{show:h,isDelete:!0,onOk:()=>{m(!1),d(!0),n.A.delete(""+(N.U+"admin/users/"+C),{headers:{Authorization:"Bearer "+x}}).then((e=>{l(!a),d(!1),t.oR.success(e.data.message)})).catch((e=>{d(!1),t.oR.error("Oops something went wrong")}))},onHide:()=>{m(!1)},children:{title:"Delete user",body:(0,g.jsx)("h5",{children:"Are you sure?"})}}),(0,g.jsx)($,{onShowAddUser:s,onEditUser:e=>{u({show:!0,inititalValues:e})},onShowDelete:e=>{C=e,m(!0)},changes:a}),(0,g.jsx)(t.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},6267:(e,s,a)=>{a.d(s,{A:()=>r});const r=e=>new Date(e).toLocaleString("en-gb",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},4196:(e,s,a)=>{a.d(s,{A:()=>o});var r=a(4600),n=a.n(r),i=a(5043),t=a(7852),l=a(579);const o=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,striped:i,bordered:o,borderless:d,hover:c,size:u,variant:h,responsive:m,...x}=e;const j=(0,t.oU)(a,"table"),g=n()(r,j,h&&`${j}-${h}`,u&&`${j}-${u}`,i&&`${j}-striped`,o&&`${j}-bordered`,d&&`${j}-borderless`,c&&`${j}-hover`),p=(0,l.jsx)("table",{...x,className:g,ref:s});if(m){let e=`${j}-responsive`;return"string"===typeof m&&(e=`${e}-${m}`),(0,l.jsx)("div",{className:e,children:p})}return p}))},6405:(e,s,a)=>{a.d(s,{A:()=>r});const r={row:"ManageUserItem_row__9nhDa",actions:"ManageUserItem_actions__Adyc1",button:"ManageUserItem_button__TA97T",edit:"ManageUserItem_edit__m7RTS",delete:"ManageUserItem_delete__ozfvb"}},3067:(e,s,a)=>{a.d(s,{A:()=>r});const r={overlaySpinner:"ManageUsersPage_overlaySpinner__RCrP0"}}}]);
//# sourceMappingURL=64.1116eadd.chunk.js.map