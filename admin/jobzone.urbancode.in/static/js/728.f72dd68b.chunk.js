"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[728],{2076:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(5043);const n=(e,t,s)=>{const[n,r]=(0,a.useState)([]),[o,i]=(0,a.useState)([]);return(0,a.useEffect)((()=>{const a=((e,t)=>{const s=[],a=Math.ceil(e.length/t);for(let n=1;n<=a;n++)s.push(n);return s})(e,s);r([...a]);const n=((e,t,s)=>e.slice((t-1)*s,t*s))(e,t,s);i([...n])}),[e,r,t,i,s]),{slice:o,range:n}}},5212:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5043);const n="TableFooter_tableFooter__YnZKz",r="TableFooter_button__lyCXX",o="TableFooter_activeButton__zGuUj",i="TableFooter_inactiveButton__NX-MW";var l=s(579);const d=e=>{let{range:t,setPage:s,page:d,slice:c}=e;return(0,a.useEffect)((()=>{c.length<1&&1!==d&&s(d-1)}),[c,d,s]),(0,l.jsx)("div",{className:n,children:t.map(((e,t)=>(0,l.jsx)("button",{className:`${r} ${d===e?o:i}`,onClick:()=>s(e),children:e},t)))})}},5728:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(5043),n=s(6213),r=s(9628),o=(s(2342),s(5141)),i=s(3519),l=s(1072),d=s(8602),c=s(4282),h=s(4196);var j=s(5212),b=s(2076),u=s(6214);const x={rowStyle:"ManageTab_rowStyle__xmixT",manageUsers:"ManageTab_manageUsers__HRa1Z",col:"ManageTab_col__+64Bg",input:"ManageTab_input__L+bjO",span:"ManageTab_span__WZTvP",addUser:"ManageTab_addUser__q99dO",button:"ManageTab_button__Ic5rh",tableHeader:"ManageTab_tableHeader__uXq1D",tableBody:"ManageTab_tableBody__xDBy6",tableBox:"ManageTab_tableBox__W0h3M"},m="JobItem_row__tgvjx",p="JobItem_actions__TDsAX",g="JobItem_button__6AmUm",_="JobItem_edit__z41q3",f="JobItem_delete__pFNaT";var A=s(579);const v=e=>(0,A.jsxs)("tr",{className:m,children:[(0,A.jsx)("td",{children:e.jobInfo.title}),(0,A.jsx)("td",{children:e.jobInfo.description}),(0,A.jsx)("td",{children:e.jobInfo.category}),(0,A.jsx)("td",{children:e.jobInfo.startDate}),(0,A.jsx)("td",{children:e.jobInfo.endDate}),(0,A.jsxs)("td",{className:p,children:[(0,A.jsxs)("button",{className:`${_} ${g}`,onClick:()=>{n.A.get(""+(u.U+"provider/jobs/"+e.jobInfo._id),{headers:{Authorization:"Bearer "+e.token}}).then((t=>{e.onEdit(t.data.job)})).catch((e=>console.log(e)))},children:[(0,A.jsx)("span",{children:(0,A.jsx)("i",{className:"bi bi-pencil-fill"})}),(0,A.jsx)("span",{children:"Edit"})]}),(0,A.jsxs)(c.A,{className:`${f} ${g}`,onClick:()=>{e.onDelete(e.jobInfo._id)},children:[(0,A.jsx)("span",{children:(0,A.jsx)("i",{className:"bi bi-trash"})}),(0,A.jsx)("span",{children:"Delete"})]})]})]},e.jobInfo._id),y=e=>{const[t,s]=(0,a.useState)(1),[r,m]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[_,f]=(0,a.useState)(!0),{slice:y,range:w}=(0,b.A)(r,t,5),D=localStorage.getItem("token");(0,a.useEffect)((()=>{(async()=>{const e=await n.A.get(""+(u.U+"provider/jobs"),{headers:{Authorization:"Bearer "+D}});f(!1);const t=e.data.jobs;m(t),g(t)})()}),[e.changes,D]);const N=t=>{e.onEditJob(t)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.A,{children:(0,A.jsxs)(l.A,{className:x.rowStyle,children:[(0,A.jsx)(d.A,{className:`${x.manageUsers} col-md-3`,children:(0,A.jsx)("span",{className:x.span,children:"Manage Jobs"})}),(0,A.jsx)(d.A,{className:`${x.col} col-md-6  `,children:(0,A.jsx)(d.A,{className:"d-flex justify-content-center align-items-center",children:(0,A.jsx)("input",{type:"text",id:"search",placeholder:"Search Jobs",className:x.searchBar,onChange:e=>{m(p.filter((t=>t.title.toLowerCase().includes(e.target.value.toLowerCase()))))}})})}),(0,A.jsx)(d.A,{className:`${x.addUser} col-md-3`,children:(0,A.jsx)(c.A,{variant:"primary",id:"add-new-user",className:x.button,onClick:()=>{e.onShowAddUser({show:!0,edit:!1})},children:"Add New Job"})})]})}),r.length>0&&(0,A.jsxs)(i.A,{children:[(0,A.jsxs)("div",{className:x.tableBox,children:[_&&(0,A.jsx)(o.A,{}),(0,A.jsxs)(h.A,{striped:!0,hover:!0,children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:x.tableHeader,children:[(0,A.jsx)("th",{children:" Job Title"}),(0,A.jsx)("th",{children:"Job Description"}),(0,A.jsx)("th",{children:"Category"}),(0,A.jsx)("th",{children:"Start Date"}),(0,A.jsx)("th",{children:"End Date"}),(0,A.jsx)("th",{children:"Actions"})]})}),(0,A.jsx)("tbody",{className:x.tableBody,children:y.map((t=>(0,A.jsx)(v,{token:D,jobInfo:t,onEdit:N,onDelete:e.onShowDelete},t._id)))})]})]}),(0,A.jsx)(j.A,{range:w,slice:y,setPage:s,page:t})]}),0===r.length&&(0,A.jsx)("h3",{children:"No Jobs Data!"})]})};var w=s(5284);const D=e=>{let{isDelete:t=!1,...s}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(w.A,{...s,size:t?"md":"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t&&(0,A.jsx)(w.A.Header,{className:x.headerModal,children:(0,A.jsx)(w.A.Title,{id:"contained-modal-title-vcenter",children:s.children.title})}),!t&&(0,A.jsx)(w.A.Header,{className:x.editModal,children:(0,A.jsx)(w.A.Title,{id:"contained-modal-title-vcenter",children:s.children.title})}),t&&(0,A.jsx)(w.A.Body,{style:{display:"flex",justifyContent:"center"},children:s.children.body}),!t&&(0,A.jsx)(w.A.Body,{children:s.children.body}),t&&(0,A.jsx)(w.A.Footer,{className:"d-flex justify-content-between",children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{variant:"danger",size:"md",onClick:s.onOk,children:"Ok"})," ",(0,A.jsx)(c.A,{variant:"danger",size:"md",onClick:s.onHide,children:"Close"})]})})]})})};var N=s(3892),I=s(2351);const S={submitBtn:"AddJob_submitBtn__h0iBT",button:"AddJob_button__n2s7L",requiredField:"AddJob_requiredField__jdZ2+"},T=e=>{let{label:t,...s}=e;const[a,n]=(0,N.Mt)(s);return(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("label",{htmlFor:a.name,className:S.requiredField,children:t}),(0,A.jsx)("input",{className:`form-control shadow-none ${n.touched&&n.error&&"is-invalid"} `,...a,...s,autoComplete:"off"}),(0,A.jsx)(N.Kw,{component:"div",name:a.name,style:{color:"red"}})]})},B=e=>{let{label:t,...s}=e;const[a,n]=(0,N.Mt)(s);return(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("label",{htmlFor:a.id,className:S.requiredField,children:t}),(0,A.jsx)("select",{className:`form-control  ${n.touched&&n.error&&"is-invalid"} `,...a,...s}),(0,A.jsx)(N.Kw,{component:"div",name:a.name,style:{color:"red"}})]})};var k=s(3033);function F(e){let t={title:"",description:"",startDate:"",endDate:"",category:""};e.jobInfo&&(t={title:e.jobInfo.title,description:e.jobInfo.description,startDate:e.jobInfo.startDate,endDate:e.jobInfo.endDate,category:e.jobInfo.category});const s=k.Ik({title:k.Yj().max(30).required("Required"),description:k.Yj().max(100,"Must be 100 characters or less").required("Required"),startDate:k.p6().required("Required"),endDate:k.p6().required("Required"),category:k.Yj().required("Required")});return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(N.l1,{initialValues:t,validationSchema:s,onSubmit:(t,s)=>{let{setSubmitting:a}=s;(t=>{e.onAdd(t)})({...e.jobInfo,...t})},children:t=>(0,A.jsxs)(I.A,{onSubmit:t.handleSubmit,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(T,{label:"Title",name:"title",type:"text"}),(0,A.jsx)(T,{label:"Description ",name:"description",type:"text-area"}),(0,A.jsxs)(B,{label:"Category ",name:"category",children:[(0,A.jsx)("option",{value:"",children:"Select"}),(0,A.jsx)("option",{value:"Software Development",children:"Software Development"}),(0,A.jsx)("option",{value:"HR Department",children:"HR Department"}),(0,A.jsx)("option",{value:"Techincal and Hardware",children:"Techincal and Hardware"}),(0,A.jsx)("option",{value:"Front Desk",children:"Front Desk"})]}),(0,A.jsx)(T,{label:"Start date ",name:"startDate",type:"date"}),(0,A.jsx)(T,{label:"  End date ",name:"endDate",type:"date"})]}),e.jobInfo?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,A.jsx)(c.A,{className:S.submitBtn,type:"submit",children:"Edit Job"})})}):(0,A.jsx)(c.A,{className:S.submitBtn,type:"submit",style:{display:"flex",justifyContent:"center",alignItem:"center"},children:"Add Job"})]})})})}let $;function C(){const[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),[c,h]=(0,a.useState)({show:!1,inititalValues:{}}),[j,b]=(0,a.useState)(!1),x=localStorage.getItem("token");(0,a.useEffect)((()=>{document.title=u.l.vE}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(a.Suspense,{fallback:(0,A.jsx)(o.A,{}),children:[s&&(0,A.jsx)(o.A,{}),(0,A.jsx)(D,{show:l,onHide:()=>{d(!1)},children:{title:"Add new Job",body:(0,A.jsx)(F,{onAdd:s=>{i(!0),n.A.post(""+(u.U+"provider/add-job"),{...s},{headers:{Authorization:"Bearer "+x}}).then((s=>{t(!e),i(!1),d(!1),r.oR.success(s.data.message)})).catch((e=>{i(!1),r.oR.error("Oops something went wrong")}))}})}}),(0,A.jsx)(D,{show:c.show,onHide:()=>{h((e=>({show:!1,inititalValues:e.inititalValues})))},children:{title:"Edit the Job",body:(0,A.jsx)(F,{jobInfo:c.inititalValues,onAdd:s=>{const a=s._id,o={jobId:s.jobId,title:s.title,description:s.description,category:s.category,endDate:s.endDate,providerId:s.providerId,startDate:s.startDate};i(!0),n.A.put(""+(u.U+"provider/edit-job/"+a),o,{headers:{Authorization:"Bearer "+x}}).then((s=>{t(!e),i(!1),h((e=>({show:!1,inititalValues:e.inititalValues}))),r.oR.success(s.data.message)})).catch((e=>{i(!1),r.oR.error("Oops something went wrong")}))}})}})]}),(0,A.jsx)(D,{show:j,isDelete:!0,onOk:()=>{b(!1),i(!0),n.A.delete(""+(u.U+"provider/jobs/"+$),{headers:{Authorization:"Bearer "+x}}).then((s=>{i(!1),t(!e),r.oR.success(s.data.message)})).catch((e=>{i(!1),r.oR.error("Oops something went wrong")}))},onHide:()=>{b(!1)},children:{title:"Delete Job",body:(0,A.jsx)("h1",{children:"Are you sure?"})}}),(0,A.jsx)(y,{onShowAddUser:d,onEditJob:e=>{h({show:!0,inititalValues:e})},onShowDelete:e=>{$=e,b(!0)},changes:e}),(0,A.jsx)(r.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},4196:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(4600),n=s.n(a),r=s(5043),o=s(7852),i=s(579);const l=r.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,striped:r,bordered:l,borderless:d,hover:c,size:h,variant:j,responsive:b,...u}=e;const x=(0,o.oU)(s,"table"),m=n()(a,x,j&&`${x}-${j}`,h&&`${x}-${h}`,r&&`${x}-striped`,l&&`${x}-bordered`,d&&`${x}-borderless`,c&&`${x}-hover`),p=(0,i.jsx)("table",{...u,className:m,ref:t});if(b){let e=`${x}-responsive`;return"string"===typeof b&&(e=`${e}-${b}`),(0,i.jsx)("div",{className:e,children:p})}return p}))}}]);
//# sourceMappingURL=728.f72dd68b.chunk.js.map